<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="ko" class="no-js"> <!--<![endif]-->
  <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>하이바 커뮤니티</title>
    
    <link rel="stylesheet" type="text/css" href="../css/common_style.css" >
    <link rel="stylesheet" type="text/css" href="../css/community.css" >
    
     <!-- makegroupd에서 가져온 CSS -->
    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="../css/common_style.css" >
    <link rel="stylesheet" type="text/css" href="../css/makeCal.css" >
    <link rel="stylesheet" type="text/css" href="../css/makegroup.css">        
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/5.0.7/sweetalert2.min.css" />
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
        

    <!-- 부트스크랩 CSS -->
    <script src="../node_modules/jquery/dist/jquery.js"></script> 
    
    
<style>
/* The switch - the box around the slider */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}

/* Hide default HTML checkbox */
.switch input {display:none;}

      body {
      background: #f7f7f8;
      }
      
      
      
/* Google Calendar*/      
 #calendar {
 max-width: 850px;
 margin: 0 auto;
 float: right;
}

.article-schedule ul li { padding-bottom: 20px; }     
.my-make-schedule button:first-child {
 margin-bottom: 20px;      
}
.my-schedule { border-top: 1px solid gray; border-bottom: 1px solid gray; padding:20px 0; }
.my-schedule ul { margin-bottom: 0px; }
.my-schedule ul li { padding: 2px 0; }
.my-group-member ul li { padding-bottom: 15px; padding-right: 10px; position: relative; }
.my-group-member ul li i { 
display: inline-block; float: right; width: 40px; 
height: 40px; background: #555; }     
.member-photo { display: inline-block; }
.member-photo img{ width: 70px; height: 70px; border-radius: 100px; }
.member-name { display: block; position: absolute; right: 10px; top: 50px; }
.state { -  width: 15px; height: 15px; }
.danger { background:url("../images/ximg.png") no-repeat }
.success { background:url("../images/successicon.png") no-repeat }
#map {
   height: 300px;
      }
.controls {
  margin-top: 10px;
  border: 1px solid transparent;
  border-radius: 2px 0 0 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  height: 32px;
  outline: none;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

#pac-input {
  background-color: #fff;
  font-family: Roboto;
  font-size: 15px;
  font-weight: 300;
  margin-left: 12px;
  padding: 0 11px 0 13px;
  text-overflow: ellipsis;
  width: 300px;
}

#pac-input:focus {
  border-color: #4d90fe;
}

.pac-container {
  font-family: Roboto;
}

#type-selector {
  color: #fff;
  background-color: #4d90fe;
  padding: 5px 11px 0px 11px;
}

#type-selector label {
  font-family: Roboto;
  font-size: 13px;
  font-weight: 300;
}
     .pac-container {
    background-color: #FFF;
    z-index: 20;
    position: fixed;
    display: inline-block;
    float: left;
}
.modal{
    z-index: 20;   
}
.modal-backdrop{
    z-index: 10;        
}    ​
  </style>
 </head>
  
  <body>
	<div class="wrap display-none">
	  <div class="loader"></div>
	  <div class="loaderbefore"></div>
	  <div class="circular"></div>
	  <div class="circular another"></div>
	  <div class="text">Loading</div>
	</div>
	<div class="wrapper">
  <header> </header>
  
  <section class="panel" style=""> 
   <aside class="header-top" style="float: left; ">
    <ul class="aside-nav"> 
      <li class="f-r"><a href="#"></a></li>
      <li class="f-r iconMemberPlus" data-toggle="tooltip"
        data-placement="bottom" title="그룹추가하기"><a href="#"></a></li>
      <li class="f-r iconSchedulePlus" data-toggle="tooltip"
        data-placement="bottom" title="일정추가하기"><a href="#"></a></li>
      <li class="f-r iconBell user-alert"
        style="display: block; cursor: pointer"><i
        class="glyphicon glyphicon-exclamation-sign alert-icon"
        style="color: red; position: absolute; font-size: 15px; top:10px; display: none"></i>
      </li>
    </ul>
      <p class="f-r logout" style="float: right;"><a href="#">로그아웃</a></p>
    <div class="alert-box"
      style="position: absolute; background-color: rgba(0, 0, 0, 0.5); max-width: 250px; margin: 10px; left: 50px; top: 60px; color: #fff">
    </div>
  </aside>
  
  

    <div class="section-wrap" align="center">
      <!-- <h2>커뮤니티</h2> -->
      <!-- 
        <div class="col-md-9">
		        <form method="post" class="light">
		          <input type="text" placeholder="검색할 내용을 적어주세요">
		        </form>
		        <label>
		        <button type="button" class="button-border2"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></label>
		        <button id="writeBtn" type="button" class="button-border2" >글쓰기</button>
		        <button type="button" class="button-border2">내글보기</button>
		        <button type="button" class="button-border button-success">최신순</button>
           <button type="button" class="button-border button-success">조회수</button>
		    </div>
		    
      -->


  
  
  <!-- Button trigger modal -->
	<button type="button" class="button-border2" data-toggle="modal" data-target="#myModal">
	  모달예제
	</button>
	
	<!-- Modal S-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        
         <div class="modal-pin" id="userNo2" data-no="">
         Community 글쓰기
        </div>

      </div>
      <div class="modal-body">
    <!--      <form class="form-horizontal"> -->
          <div class="form-group my-view">
            <label for="no" class="control-label">번호</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="no" readonly>
            </div>
          </div>
          
         <div class="form-group my-view">
            <div class="col-sm-10">
              <input type="text" class="form-control" id="userNicName" readonly>
            </div>
          </div>
          
        
        <div class="form-group">
          <div class="col-sm-10">
            <input type="text" class="form-control" id="title" placeholder="제목입니다.">
          </div>
        </div>
        
        <div class="form-group">
          <div class="col-sm-10">
            <textarea id="contents" class="form-control" 
                      cols="30" rows="10" placeholder="내용입니다."></textarea>
          </div>
        </div>
        
        <div class="form-group">
          <div class="col-sm-10">
             <div id="modalBody" class="modal-body">
                  <input id="pac-input" class="controls location" type="text" placeholder="주소를 적어주세요">
                  <div id="map"></div>
             </div>
          </div>
       </div>
       
         
        <br>
        <div class="form-group">
        <form  action="/upload/add" method="post" enctype="multipart/form-data">
          <div class="col-sm-10">
            <input type="file" id="" name="file1">
            <p class="help-block">업로드는 업데이트 중!</p>
         </div>
        </form>
        </div>
    
    
      </div>
      
      <div class="modal-footer">
        <button id="addBtn" type="button" class="btn btn-default my-new">등록</button>
        <button id="updateBtn" type="button" class="btn btn-default my-view">변경</button>
        <button id="deleteBtn" type="button" class="btn btn-default my-view">삭제</button>
        <button id="cancelBtn" type="button" class="btn btn-default" data-dismiss="modal">취소</button>        
      </div>
      

<!-- Modal S--
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        
         <div class="modal-pin">
          <div class="profile">
             <a href="" data-no="{{userNo}}" style="display:block">
               <img src="../images/user-3.png" class="profile-img">
             </a>
            <div class="profile-names">
              <div class="profile-name">{{userNicName}}</div>
              <div class="profile-date">{{registerDate}}</div>
            </div>
           </div>  
        </div>

      </div>
      <div class="modal-body">
      
        <h4 class="modal-title" id="myModalLabel">{{title}}</h4>
          <p>{{contents}}</p>
        
            <div class="modal-content-com">
                <img src="http://placehold.it/600x600">  
            </div>
      </div>
      
      <div class="modal-footer">
        <button id="addBtn" type="button" class="btn btn-default my-new">등록</button>
        <button id="updateBtn" type="button" class="btn btn-default my-view">변경</button>
        <button id="deleteBtn" type="button" class="btn btn-default my-view">삭제</button>
        <button id="cancelBtn" type="button" class="btn btn-default" data-dismiss="modal">취소</button>        
      </div>
      
      <hr>
     
			<div class="comments-app my-view" >
			  <!-- From --
			  <div class="comment-form2">
			    <!-- Comment Avatar --
			    <div class="comment-avatar ">
			      <img src="../images/user-3.png" class="profile-img">
			    </div>
			
			    <form class="form" name="form">
			      <div class="form-row" id="userNo3" data-value="" >
			        <textarea id="comment" class="input" placeholder="댓글내용을 적어주세요"></textarea>
			      </div>
			
			      <div class="form-row">
			        <button class="button-comment" id="addCommentBtn" type="button">등록</button>
			      </div>
			    </form>
			  </div>    
			  <hr>   
			      <div class="comments">
			        <div id="communityCommentTable"></div> 
			      </div>
			      
			      <a href="#" id="loadMore">Load More</a>
			      <p class="totop">  <a href="#top">Back to top</a> </p>
			       </div>
            <!-- 모달 E  -->      
      
      
      
      
      
      
      
      
      
      
      
      
    </div>
  </div>
    </div>  
    </div>
  
  
  
  
  
 
	           
		<!-- 컨텐츠 S -->
		  <div id="communityDiv" class="pin-align">
			    <button id="writeBtn" type="button" class="button2 button-border button-write" >
			     <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>   hiBa 커뮤니티 글쓰기
			    </button>
		    <div></div>
		  </div>
		  
		<!-- 컨텐츠 E -->  

  

     
   </section> 
  </div>
           
 





<!-- 
  <div class="pin">
       <a class="titleLink" href="#" data-no="{{no}}">
         {{#if file_path}}
         <img src="../upload/{{file_path}}" style="vertical-align:middle; width:320px; height:250px;">
         {{else}}                            
         <img src="http://placehold.it/320x250">               
         {{/if}}  
      </a>
 -->

<script id="divTemplateText" type="text/x-handlebars-template">
{{#each data}}
  <div class="pin">

       <div class="profile">
         <a href="" data-no="{{userNo}}" style="display:block">
           <img src="../images/user-3.png" class="profile-img">
         </a>
        <div class="profile-names">
          <div class="profile-name">{{userNicName}}</div>
          <div class="profile-date">{{registerDate}}</div>
        </div>
       </div>  

       <a class="titleLink" href="#" data-no="{{no}}">
         {{#if filename}}
         <img src="../upload/{{filename}}" style="vertical-align:middle; width:700px; height:auto;">
         {{else}}                            
         <img src="http://placehold.it/700x300">               
         {{/if}}  
      </a>
       <br>
        <div>
          <h3>{{title}}</h3>
          <p>{{contents}}</p>
          <ul class ="icon">
            <li><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>{{viewCount}}</li>
            <li><span class="glyphicon glyphicon-comment" aria-hidden="true"></span>0</li>
          </ul>
        </div> 
         
    </div>
<br>
{{/each}}
 </script> 


<!-- 커뮤니티 디테일 modal S--
<script id="commentTemplateText" type="text/x-handlebars-template">
      <div class="modal-footer">
        <button id="addBtn" type="button" class="btn btn-default my-new">등록</button>
        <button id="updateBtn" type="button" class="btn btn-default my-view">변경</button>
        <button id="deleteBtn" type="button" class="btn btn-default my-view">삭제</button>
        <button id="cancelBtn" type="button" class="btn btn-default" data-dismiss="modal">취소</button>        
      </div>
      
      <hr>
      <div class="comments-app my-view" >
        <!-- From --
        <div class="comment-form2">
          <!-- Comment Avatar --
          <div class="comment-avatar ">
            <img src="../images/user-3.png" class="profile-img">
          </div>
      
          <form class="form" name="form">
            <div class="form-row" id="userNo3" data-value="" >
              <textarea id="comment" class="input" placeholder="댓글내용을 적어주세요"></textarea>
            </div>
      
            <div class="form-row">
              <button class="button-comment" id="addCommentBtn" type="button">등록</button>
            </div>
          </form>
        </div>    
        <hr>   
            <div class="comments">
              <div id="communityCommentTable"></div> 
            </div>
            
            <a href="#" id="loadMore">Load More</a>
            <p class="totop"> <a href="#top">Back to top</a> </p>
             </div>
</script>
<!-- 커뮤니티 디테일 modal E-->

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script type=text/javascript>
$(document).ready(function(){
        
    $(".return-top").hide(); // 탑 버튼 숨김
    $(".writeBtn").hide(); // 탑 버튼 숨김
    $(function () {
                 
        $(window).scroll(function () {
            if ($(this).scrollTop() > 100) { // 스크롤 내릴 표시
                $('.return-top').fadeIn();
            } else {
                $('.return-top').fadeOut();
            }
        });
                
        $('.return-top').click(function () {
            $('body,html').animate({
                scrollTop: 0
            }, 800);  // 탑 이동 스크롤 속도
            return false;
        });
    });
 
});
</script>
 
<a class="return-top" href="#" style="right:15px; bottom:15px; position:fixed; z-index:9999;">
  <button type="button" class="button-border button-success" >▲TOP</button>
</a>



<script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/5.0.7/sweetalert2.min.js"></script>
<!-- <script src="https://use.fontawesome.com/bf4034f4dc.js"></script>   -->
<script type="text/javascript" src="../memberInvite/memberInvitemessageApp.js"></script>
<script type='text/javascript'  src="../js/main.js"></script> 


<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script type='text/javascript' src="../js/include.js"></script> 
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/bit.js"></script>
<script type="text/javascript" src="communityApp.js"></script>
<script type="text/javascript" src="communityForm.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyAft7ukIrCdQPQYU4aXTBySOqsjQthqMNE&libraries=places&callback=initMap" async defer></script>

<script type="text/javascript">
ajaxLoginUser()               // 로그인 유저 정보 가져오기
ajaxCommunityList()           // 게시물 목록 가져오기


if (location.search.startsWith("?")) { // 예) ?no=xxx
    var no = location.search.split("=")[1];
    ajaxCommentCommunityList(no)
    ajaxLoadCommunity(no)
    $(".my-new").css("display", "none")
} else {
    $(".my-view").css("display", "none")
}
window.initMap = function() {
     var map = new google.maps.Map(document.getElementById('map'), {
       center: {lat: -33.8688, lng: 151.2195},
       zoom: 16,
       mapTypeId: google.maps.MapTypeId.ROADMAP
     });
   
     // Create the search box and link it to the UI element.
     var input = document.getElementById('pac-input');
     var searchBox = new google.maps.places.SearchBox(input);
     map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
   
     // Bias the SearchBox results towards current map's viewport.
     map.addListener('bounds_changed', function() {
       searchBox.setBounds(map.getBounds());
     });
   
     var markers = [];
     // [START region_getplaces]
     // Listen for the event fired when the user selects a prediction and retrieve
     // more details for that place.
     searchBox.addListener('places_changed', function() {
       var places = searchBox.getPlaces();
   
       if (places.length == 0) {
         return;
       }
   
       // Clear out the old markers.
       markers.forEach(function(marker) {
         marker.setMap(null);
       });
       markers = [];
   
       // For each place, get the icon, name and location.
       var bounds = new google.maps.LatLngBounds();
       places.forEach(function(place) {
         var icon = {
           url: place.icon,
           size: new google.maps.Size(71, 71),
           origin: new google.maps.Point(0, 0),
           anchor: new google.maps.Point(17, 34),
           scaledSize: new google.maps.Size(25, 25)
         };
   
         // Create a marker for each place.
         markers.push(new google.maps.Marker({
           map: map,
           icon: icon,
           title: place.name,
           position: place.geometry.location
         }));
   
         if (place.geometry.viewport) {
           // Only geocodes have viewport.
           bounds.union(place.geometry.viewport);
         } else {
           bounds.extend(place.geometry.location);
         }
       });
       map.fitBounds(bounds);
     });
     // [END region_getplaces]
   }
</script>



 </body>
</html>





